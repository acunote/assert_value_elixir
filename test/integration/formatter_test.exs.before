defmodule FormatterTest do
  use ExUnit.Case, async: true

  import AssertValue

  test "integer variants" do
    # prompt: y
    assert_value 42_000_000

    # prompt: y
    assert_value 42.0e-5

    # prompt: y
    assert_value 43.0e+5

    # prompt: y
    assert_value 0x2A
  end

  test "multiline strings" do
    # prompt: y
    assert_value "foo\nbar"
  end

  test "long strings" do
    # prompt: y
    assert_value String.duplicate("a", 5000)
  end

  test "big map" do
    # prompt: y
    big_map =
      1..64
      |> Enum.reduce(%{}, fn(x, acc) ->
        Map.put(acc, to_string(x), x)
      end)

    assert_value big_map
  end

  test "big keyword list" do
    # prompt: y
    big_kw_list =
      1..64
      |> Enum.reduce([], fn(x, acc) ->
        [acc, {String.to_atom("x#{x}"), x}]
      end)
      |> List.flatten

    assert_value big_kw_list
  end

end
