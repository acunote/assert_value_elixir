defmodule FormatterTest do
  use ExUnit.Case, async: true

  import AssertValue

  test "integer variants" do
    # prompt: y
    assert_value 42_000_000

    # prompt: y
    assert_value 42.0e-5

    # prompt: y
    assert_value 43.0e+5

    # prompt: y
    assert_value 0x2A
  end

  test "multiline strings" do
    # prompt: y
    assert_value "foo\nbar"
  end

  test "long arrays" do
    # prompt: y
    assert_value [0,1,2,3,4,5,6,7,8,9,10] == [0,1,2,3,5,5,5,7,8,9,10]
  end

  test "long strings" do
    # prompt: y
    assert_value String.duplicate("a", 5000)
  end

  test "auto parens off" do
    # No parens. String with max length fit
    # prompt: y
    assert_value [
                    "foo",
                    "bar 1234567890 00000000000000 1111111111111 222222222222",
                    "baz"
                 ]


    # Auto add parens. String with max length does not fit
    # prompt: y
    assert_value [
                    "foo",
                    "bar 1234567890 00000000000000 1111111111111 2222222222222 !",
                    "baz"
                 ]
  end

end
